<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) on Fri Dec 17 09:18:09 PST 2021 -->
<title>Experiment90 (laboratory 1.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-12-17">
<meta name="description" content="declaration: package: net.kolotyluk.loom, class: Experiment90">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Experiment90.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.kolotyluk.loom</a></div>
<h1 title="Class Experiment90" class="title">Class Experiment90</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.kolotyluk.loom.Experiment90</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Experiment90</span>
<span class="extends-implements">extends <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><h1>Experiment Suite 02</h1>
 <p>
     This suite of experiments aims to get some basic practice with <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> results that are based on
     <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> and <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link"><code>Callable</code></a> tasks, so that as we explore further we have a good sense
     of how these work. The generic term 'task' is used to represent some unit of computation, generally
     a concurrent computation. In the previous Experiments I used the term 'item' to represent the identity
     of a task, or more precisely, the identity of something needing the results of a task.
 </p>
 <p>
     Note: aside from returning a result, a Callable can also throw an Exception, while a Runnable cannot throw a
     <strong><em>Checked</em></strong> Exception.
 </p>
 <p>
     In these experiments, it is the responsibility of the <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService</code></a> to <em>spawn</em> a task,
     but it's the responsibility of a <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> to interact with that task after it has been spawned.
     <em>I use the term <strong>spawn</strong> from my time working with Akka, where Actors would 'spawn'
     child actors, where the word 'spawn' implies a parent/child relationship. Akka supports Structure
     Concurrency via Actors in a similar way ExecutorService can, it just looks a little different, and is a
     little harder to manage. Note: An Akka Actor is a much higher level Concurrency Construct than an ExecutorService
     tasks, but even at this level, Structured Concurrency is still important.</em>
 </p>
 <p>
     In Structured Concurrency, the parent/child relationship is very important, because it implies a
     hierarchical structure.
 </p>
 <p>
     We may remember when we were a child, when our mom was angry, she might have said "I brought you into
     this world, and I can take you out." Dark humor aside, one aspect of Structured Concurrency is that: generally,
     the parent should be in control of its children, including monitoring them, and stopping them when the need
     arises, where a Future can do both.
      <dl>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.awaitTermination(long, TimeUnit)</code></a></dt>
              <dd>Rather than just invoke <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.close()</code></a> which is implicit in the
                  try-with-resources block, if we explicitly wait for all the children to complete,
                  we can define a timeout for all of them collectively. It is good practice in Concurrent
                  Programming to use timeouts to create more deterministic applications.</dd>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.shutdown()</code></a></dt>
              <dd>If at some point the parent decides to abandon all further processing, it can stop accepting work,
                  but let any working tasks complete.</dd>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.shutdownNow()</code></a></dt>
              <dd>A stronger form of shutdown(), this will try to cancel any tasks that are still running.
                  For example, we might want to do this after calling awaitTermination(timeout) if we
                  do hit the timout. It would be good practice to again call awaitTermination(timeout)
                  and do something more necessary if we hit the timeout again. Another reason to call this
                  is when we decided we already have enough results from workers, and don't need any more.</dd>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAny(java.util.Collection,long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.invokeAny(Collection, long, TimeUnit)</code></a></dt>
              <dd>Similar to the above, if you don't need the result of all tasks, if we only need the results
                  of one successful task, it is easy to create a collection of submittable tasks, and then
                  just wait for the result of the first one to succeed. When one succeeds, the ExecutorService
                  will do a shutdownNow(). Again, including a timeout is good practice.</dd>
          <dt> <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection,long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.invokeAll(Collection, long, TimeUnit)</code></a></dt>
              <dd>Similar to the above, if we really want the results of all child tasks, this is the most concise
                  way to ask for it. Unlike the above, the result is a Future result, or more specifically, a List
                  of Future results, so some more thought needs to be put into it.</dd>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Future.html#get(long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>Future.get(long, TimeUnit)</code></a></dt>
              <dd>Rather than just invoke <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Future.html#get()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.get()</code></a>, by specifying a timeout, we make our code
                  more deterministic by limiting how long it is reasonable to wait for a result. Unlike the above
                  collective methods, sometimes we want to get down to the individual task level, and so we deal
                  with the individual Futures for each task.</dd>
          <dt><code>Future#join()</code></dt>
              <dd>While similar to get(), there is currently no join(long, TimeUnit) that will timeout.
                  Without further details, I advise against it, unless there is some compelling advantage
                  in using it.</dd>
          <dt><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)" title="class or interface in java.util.concurrent" class="external-link"><code>Future.cancel(boolean)</code></a></dt>
              <dd>Sometimes there is good reason to cancel the execution of a task, and this is the way to do it.
                  Note the parameter <tt>mayInterruptIfRunning</tt>, when <tt>true</tt> can provide a more certain
                  cancellation if necessary. Note also, while we can cancel a Future, we cannot cancel a Thread,
                  whether Platform or Virtual. While we can Interrupt a Thread, we cannot Interrupt a Future.</dd>
      </dl>
      While there are more methods on ExecutorService and Future, these are a few of the most important for this
      level of detail.
 </p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://wiki.openjdk.java.net/display/loom/Getting+started">Loom Getting Started</a></li>
<li><a href="https://www.youtube.com/watch?v=Nb85yJ1fPXM">Java ExecutorService - Part 1</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Experiment90</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;R,<wbr>
Int&gt;&nbsp;void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Experiment90</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Experiment90</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;R,<wbr>
Int&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">main</span><wbr><span class="parameters">(<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2021 <a href="https://kolotyluk.github.io">Eric Kolotyluk</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
